{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sah0365\\\\Documents\\\\\\xE9cole\\\\watermelon-front\\\\src\\\\cards.js\";\nimport React, { Component } from 'react';\nimport { MDBBtn } from 'mdbreact';\nimport { MDBListGroup, MDBListGroupItem, MDBContainer } from \"mdbreact\";\nimport { BrowserRouter, Route, Link, Redirect } from 'react-router-dom';\nimport Nav_bar from './Nav_bar/nav_bar';\n\nclass Cards extends Component {\n  constructor(props) {\n    console.log(localStorage.getItem('access_token'));\n    super(props);\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      let result = fetch(\"http://localhost:8000/v1/cards\", {\n        method: 'POST',\n        body: JSON.stringify({\n          \"last_4\": this.state.last_4,\n          \"brand\": this.state.brand,\n          \"expired_at\": this.state.expired_at\n        }),\n        headers: {\n          'Content-Type': 'application/json',\n          'x-auth-token': localStorage.getItem('access_token')\n        }\n      }).then(response => {\n        response.json().then(value => {\n          if (response.status === 200) {\n            let access_token = response.access_token;\n            console.log(access_token);\n            this.setState({\n              checkConnection: true\n            });\n          }\n        });\n      });\n    };\n\n    this.handleSubmitUpdate = e => {\n      e.preventDefault();\n      let url = \"http://localhost:8000/v1/cards/\" + this.state.id;\n      let result = fetch(url, {\n        method: 'PUT',\n        body: JSON.stringify({\n          \"last_4\": this.state.last_4,\n          \"brand\": this.state.brand,\n          \"expired_at\": this.state.expired_at\n        }),\n        headers: {\n          'Content-Type': 'application/json',\n          'x-auth-token': localStorage.getItem('access_token')\n        }\n      }).then(response => {\n        response.json().then(value => {\n          if (response.status === 200) {\n            let access_token = response.access_token;\n            console.log(access_token);\n            this.setState({\n              checkConnection: true\n            });\n          }\n        });\n      });\n    };\n\n    this.handleSubmitDelete = e => {\n      e.preventDefault();\n      let url = \"http://localhost:8000/v1/cards/\" + this.state.id;\n      let result = fetch(url, {\n        method: 'DELETE',\n        headers: {\n          'Content-Type': 'application/json',\n          'x-auth-token': localStorage.getItem('access_token')\n        }\n      }).then(response => {});\n    };\n\n    this.handleBtnDisplay = e => {\n      this.setState({\n        btnDisplay: true\n      });\n    };\n\n    this.handleBtnDisplayAll = e => {\n      this.setState({\n        btnDisplay: true\n      });\n    };\n\n    this.handleBtnCancel = e => {\n      console.log(\"dans cancel\");\n      this.setState({\n        checkConnection: true\n      });\n    };\n\n    this.handleBtnDelete = e => {\n      this.setState({\n        btnDelete: true\n      });\n    };\n\n    this.handleSubmit2 = e => {\n      e.preventDefault();\n      console.log(\"okkkkkkkkkkkk\");\n      let result = fetch(\"http://localhost:8000/v1/cards\", {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json',\n          'x-auth-token': localStorage.getItem('access_token')\n        }\n      }).then(response => {\n        response.json().then(value => {\n          if (response.status === 200) {\n            this.setState({\n              //   checkConnection: true,\n              id: value[0].id,\n              last_4: value[0].last_4,\n              brand: value[0].brand,\n              expired_at: value[0].expired_at\n            });\n          }\n        });\n      });\n    };\n\n    this.state = {\n      id: null,\n      user_id: null,\n      last_4: null,\n      brand: null,\n      expired_at: null,\n      btnCreate: false,\n      btnDisplay: false,\n      checkConnection: false,\n      listCards: [],\n      index: 2\n    };\n    this.handleBtnCreate = this.handleBtnCreate.bind(this);\n    this.handleBtnUpdate = this.handleBtnUpdate.bind(this);\n    this.handleBtnDisplay = this.handleBtnDisplay.bind(this);\n    this.handleBtnDisplayAll = this.handleBtnDisplayAll.bind(this);\n    this.handleBtnDelete = this.handleBtnDelete.bind(this);\n    this.handleBtnCancel = this.handleBtnCancel.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleChangePwd = this.handleChangePwd.bind(this);\n    this.handleChangeExpired = this.handleChangeExpired.bind(this);\n    this.handleChangeId = this.handleChangeId.bind(this);\n  }\n\n  handleChange(event) {\n    this.setState({\n      brand: event.target.value\n    });\n  }\n\n  handleChangePwd(event) {\n    this.setState({\n      last_4: event.target.value\n    });\n  }\n\n  handleChangeExpired(event) {\n    this.setState({\n      expired_at: event.target.value\n    });\n  }\n\n  handleChangeId(event) {\n    this.setState({\n      id: event.target.value\n    });\n  }\n\n  handleBtnCreate() {\n    this.setState({\n      btnCreate: true\n    });\n  }\n\n  handleBtnUpdate() {\n    this.setState({\n      btnUpdate: true\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    }, React.createElement(Nav_bar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }), React.createElement(MDBBtn, {\n      onClick: this.handleBtnCreate,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    }, \"Create card\"), React.createElement(MDBBtn, {\n      onClick: this.handleBtnUpdate,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209\n      },\n      __self: this\n    }, \"Update card\"), React.createElement(MDBBtn, {\n      onClick: this.handleBtnDisplay,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    }, \"Display cards\"), React.createElement(MDBBtn, {\n      onClick: this.handleBtnDisplayAll,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    }, \"Display all cards\"), React.createElement(MDBBtn, {\n      onClick: this.handleBtnDelete,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213\n      },\n      __self: this\n    }, \"Delete cards\"), React.createElement(MDBBtn, {\n      onClick: this.handleBtnCancel,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    }, \"Cancel\"), this.state.btnCreate ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"form-group col-md-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      for: \"last_4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219\n      },\n      __self: this\n    }, \"last_4 :\"), React.createElement(\"input\", {\n      type: \"text\",\n      id: \"last_4\",\n      name: \"last_4\",\n      onChange: this.handleChangePwd,\n      class: \"form-control\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      for: \"expired_at\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221\n      },\n      __self: this\n    }, \"expired_at:\"), React.createElement(\"input\", {\n      type: \"text\",\n      id: \"expired_at\",\n      name: \"expired_at\",\n      onChange: this.handleChangeExpired,\n      class: \"form-control\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      for: \"inputState\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225\n      },\n      __self: this\n    }, \"Brand\"), React.createElement(\"select\", {\n      id: \"brand\",\n      name: \"brand\",\n      onChange: this.handleChange,\n      class: \"form-control\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      brand: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227\n      },\n      __self: this\n    }, \"Choose...\"), React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228\n      },\n      __self: this\n    }, \"visa\"), React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229\n      },\n      __self: this\n    }, \"master_card\"), React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230\n      },\n      __self: this\n    }, \"american_express\"), React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231\n      },\n      __self: this\n    }, \"union_pay\"), React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232\n      },\n      __self: this\n    }, \"jcb\")), React.createElement(MDBBtn, {\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235\n      },\n      __self: this\n    }, \"Send\"), React.createElement(MDBBtn, {\n      onClick: this.handleBtnCancel,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236\n      },\n      __self: this\n    }, \"Cancel\")))) : React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241\n      },\n      __self: this\n    }, this.state.btnUpdate ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.handleSubmitUpdate,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"form-group col-md-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      for: \"last_4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245\n      },\n      __self: this\n    }, \"Enter id of the card to update :\"), React.createElement(\"input\", {\n      type: \"text\",\n      id: \"id\",\n      name: \"last_4\",\n      onChange: this.handleChangeId,\n      class: \"form-control\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      for: \"last_4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248\n      },\n      __self: this\n    }, \"last_4 :\"), React.createElement(\"input\", {\n      type: \"text\",\n      id: \"last_4\",\n      name: \"last_4\",\n      onChange: this.handleChangePwd,\n      class: \"form-control\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      for: \"expired_at\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250\n      },\n      __self: this\n    }, \"expired_at:\"), React.createElement(\"input\", {\n      type: \"text\",\n      id: \"expired_at\",\n      name: \"expired_at\",\n      onChange: this.handleChangeExpired,\n      class: \"form-control\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      for: \"inputState\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254\n      },\n      __self: this\n    }, \"Brand\"), React.createElement(\"select\", {\n      id: \"brand\",\n      name: \"brand\",\n      onChange: this.handleChange,\n      class: \"form-control\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      brand: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256\n      },\n      __self: this\n    }, \"Choose...\"), React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257\n      },\n      __self: this\n    }, \"visa\"), React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258\n      },\n      __self: this\n    }, \"master_card\"), React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259\n      },\n      __self: this\n    }, \"american_express\"), React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260\n      },\n      __self: this\n    }, \"union_pay\"), React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261\n      },\n      __self: this\n    }, \"jcb\")), React.createElement(MDBBtn, {\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264\n      },\n      __self: this\n    }, \"Send\"), React.createElement(MDBBtn, {\n      onClick: this.handleBtnCancel,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265\n      },\n      __self: this\n    }, \"Cancel\")))) : React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271\n      },\n      __self: this\n    }, this.state.btnDisplay ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.handleSubmit2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274\n      },\n      __self: this\n    }, React.createElement(MDBContainer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275\n      },\n      __self: this\n    }, React.createElement(MDBListGroup, {\n      style: {\n        width: \"22rem\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"defaultFormContactNameEx\",\n      className: \"grey-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277\n      },\n      __self: this\n    }, \"Card id\"), React.createElement(MDBListGroupItem, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278\n      },\n      __self: this\n    }, this.state.id), React.createElement(\"label\", {\n      htmlFor: \"defaultFormContactNameEx\",\n      className: \"grey-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279\n      },\n      __self: this\n    }, \"last_4\"), React.createElement(MDBListGroupItem, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280\n      },\n      __self: this\n    }, this.state.last_4), React.createElement(\"label\", {\n      htmlFor: \"defaultFormContactNameEx\",\n      className: \"grey-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281\n      },\n      __self: this\n    }, \"brand\"), React.createElement(MDBListGroupItem, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282\n      },\n      __self: this\n    }, this.state.brand), React.createElement(\"label\", {\n      htmlFor: \"defaultFormContactNameEx\",\n      className: \"grey-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283\n      },\n      __self: this\n    }, \"expired at\"), React.createElement(MDBListGroupItem, {\n      href: \"#\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284\n      },\n      __self: this\n    }, this.state.expired_at), React.createElement(MDBBtn, {\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285\n      },\n      __self: this\n    }, \"Afficher une carte\"), React.createElement(MDBBtn, {\n      onClick: this.handleBtnCancel,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286\n      },\n      __self: this\n    }, \"Cancel\"))))) : React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296\n      },\n      __self: this\n    }, this.state.btnDelete ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.handleSubmitDelete,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      for: \"id\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301\n      },\n      __self: this\n    }, \"card-id to delete :\"), React.createElement(\"input\", {\n      type: \"text\",\n      id: \"id\",\n      name: \"id\",\n      onChange: this.handleChangeId,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302\n      },\n      __self: this\n    }), React.createElement(MDBBtn, {\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303\n      },\n      __self: this\n    }, \"Delete\"), React.createElement(MDBBtn, {\n      onClick: this.handleBtnCancel,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304\n      },\n      __self: this\n    }, \"Cancel\"))) : console.log(\"ok\")), \" \"), \" \"), \";\", this.state.checkConnection ? React.createElement(Redirect, {\n      to: \"/nav_Bar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312\n      },\n      __self: this\n    }) : console.log(\"fail\")));\n  }\n\n}\n\nexport default Cards;","map":{"version":3,"sources":["C:/Users/sah0365/Documents/Ã©cole/watermelon-front/src/cards.js"],"names":["React","Component","MDBBtn","MDBListGroup","MDBListGroupItem","MDBContainer","BrowserRouter","Route","Link","Redirect","Nav_bar","Cards","constructor","props","console","log","localStorage","getItem","handleSubmit","e","preventDefault","result","fetch","method","body","JSON","stringify","state","last_4","brand","expired_at","headers","then","response","json","value","status","access_token","setState","checkConnection","handleSubmitUpdate","url","id","handleSubmitDelete","handleBtnDisplay","btnDisplay","handleBtnDisplayAll","handleBtnCancel","handleBtnDelete","btnDelete","handleSubmit2","user_id","btnCreate","listCards","index","handleBtnCreate","bind","handleBtnUpdate","handleChange","handleChangePwd","handleChangeExpired","handleChangeId","event","target","btnUpdate","render","width"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { MDBBtn } from 'mdbreact';\r\nimport { MDBListGroup, MDBListGroupItem, MDBContainer } from \"mdbreact\";\r\nimport { BrowserRouter, Route, Link, Redirect } from 'react-router-dom';\r\nimport Nav_bar from './Nav_bar/nav_bar';\r\n\r\n\r\nclass Cards extends Component {\r\n    constructor(props) {\r\n        console.log(localStorage.getItem('access_token'))\r\n        super(props);\r\n        this.state = {\r\n            id: null,\r\n            user_id: null,\r\n            last_4: null,\r\n            brand: null,\r\n            expired_at: null,\r\n            btnCreate: false,\r\n            btnDisplay: false,\r\n            checkConnection: false,\r\n            listCards: [],\r\n            index: 2\r\n        };\r\n        this.handleBtnCreate = this.handleBtnCreate.bind(this);\r\n        this.handleBtnUpdate = this.handleBtnUpdate.bind(this);\r\n        this.handleBtnDisplay = this.handleBtnDisplay.bind(this);\r\n        this.handleBtnDisplayAll = this.handleBtnDisplayAll.bind(this);\r\n        this.handleBtnDelete = this.handleBtnDelete.bind(this);\r\n        this.handleBtnCancel = this.handleBtnCancel.bind(this);\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.handleChangePwd = this.handleChangePwd.bind(this);\r\n        this.handleChangeExpired = this.handleChangeExpired.bind(this);\r\n        this.handleChangeId = this.handleChangeId.bind(this);\r\n\r\n    }\r\n\r\n    \r\n\r\n    handleChange(event) {\r\n        this.setState({\r\n            brand: event.target.value\r\n        });\r\n    }\r\n\r\n    handleChangePwd(event) {\r\n        this.setState({\r\n            last_4: event.target.value\r\n        });\r\n    }\r\n\r\n    handleChangeExpired(event) {\r\n        this.setState({\r\n            expired_at: event.target.value\r\n        });\r\n    }\r\n\r\n    handleChangeId(event) {\r\n        this.setState({\r\n            id: event.target.value\r\n        });\r\n    }\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        let result = fetch(\"http://localhost:8000/v1/cards\", {\r\n            method: 'POST',\r\n            body: JSON.stringify({\r\n                \"last_4\": this.state.last_4,\r\n                \"brand\": this.state.brand,\r\n                \"expired_at\": this.state.expired_at\r\n            }),\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'x-auth-token': localStorage.getItem('access_token')\r\n            }\r\n        })\r\n            .then(response => {\r\n                response.json()\r\n                    .then(value => {\r\n                        if (response.status === 200) {\r\n                            let access_token = response.access_token;\r\n                            console.log(access_token);\r\n                            this.setState({\r\n                                checkConnection: true,\r\n                            })\r\n                        }\r\n                    });\r\n            });\r\n    }\r\n    handleSubmitUpdate = (e) => {\r\n        e.preventDefault();\r\n        let url= \"http://localhost:8000/v1/cards/\"+ this.state.id\r\n        let result = fetch(url, {\r\n            method: 'PUT',\r\n            body: JSON.stringify({\r\n                \"last_4\": this.state.last_4,\r\n                \"brand\": this.state.brand,\r\n                \"expired_at\": this.state.expired_at\r\n            }),\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'x-auth-token': localStorage.getItem('access_token')\r\n            }\r\n        })\r\n            .then(response => {\r\n                response.json()\r\n                    .then(value => {\r\n                        if (response.status === 200) {\r\n                            let access_token = response.access_token;\r\n                            console.log(access_token);\r\n                            this.setState({\r\n                                checkConnection: true,\r\n                            })\r\n                        }\r\n                    });\r\n            });\r\n    }\r\n\r\n    handleSubmitDelete = (e) => {\r\n        e.preventDefault();\r\n        let url = \"http://localhost:8000/v1/cards/\" + this.state.id\r\n        let result = fetch(url, {\r\n            method: 'DELETE',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'x-auth-token': localStorage.getItem('access_token')\r\n            }\r\n        })\r\n            .then(response => {\r\n\r\n            });\r\n    }\r\n\r\n\r\n    handleBtnCreate() {\r\n        this.setState({\r\n            btnCreate: true\r\n        })\r\n    }\r\n    handleBtnUpdate() {\r\n        this.setState({\r\n            btnUpdate: true\r\n        })\r\n    }\r\n\r\n    handleBtnDisplay = (e) => {\r\n\r\n        this.setState({\r\n            btnDisplay: true\r\n        })\r\n    }\r\n    handleBtnDisplayAll = (e) => {\r\n\r\n        this.setState({\r\n            btnDisplay: true\r\n        })\r\n    }\r\n\r\n    handleBtnCancel = (e) => {\r\n        console.log(\"dans cancel\")\r\n        this.setState({\r\n            checkConnection: true,\r\n\r\n        })\r\n    }\r\n    handleBtnDelete = (e) => {\r\n\r\n        this.setState({\r\n            btnDelete: true\r\n        })\r\n    }\r\n\r\n    handleSubmit2 = (e) => {\r\n        e.preventDefault();\r\n        console.log(\"okkkkkkkkkkkk\")\r\n        let result = fetch(\"http://localhost:8000/v1/cards\", {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'x-auth-token': localStorage.getItem('access_token')\r\n            }\r\n        })\r\n            .then(response => {\r\n                response.json()\r\n                    .then(value => {\r\n\r\n                        if (response.status === 200) {\r\n                            this.setState({\r\n                                //   checkConnection: true,\r\n                                id: value[0].id,\r\n                                last_4: value[0].last_4,\r\n                                brand: value[0].brand,\r\n                                expired_at: value[0].expired_at\r\n\r\n                            })\r\n                        }\r\n                    });\r\n            });\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n\r\n            <div>\r\n\r\n                <div>\r\n                    <Nav_bar />\r\n                    <MDBBtn onClick={this.handleBtnCreate}>Create card</MDBBtn>\r\n                    <MDBBtn onClick={this.handleBtnUpdate}>Update card</MDBBtn>\r\n\r\n                    <MDBBtn onClick={this.handleBtnDisplay}>Display cards</MDBBtn>\r\n                    <MDBBtn onClick={this.handleBtnDisplayAll}>Display all cards</MDBBtn>\r\n                    <MDBBtn onClick={this.handleBtnDelete}>Delete cards</MDBBtn>\r\n                    <MDBBtn onClick={this.handleBtnCancel}>Cancel</MDBBtn>\r\n                    {this.state.btnCreate ?\r\n                        <div>\r\n\r\n                            <form onSubmit={this.handleSubmit}><div class=\"form-group col-md-4\">\r\n                                <label for=\"last_4\">last_4 :</label>\r\n                                <input type=\"text\" id=\"last_4\" name=\"last_4\" onChange={this.handleChangePwd} class=\"form-control\"></input>\r\n                                <label for=\"expired_at\">expired_at:</label>\r\n                                \r\n                                <input type=\"text\" id=\"expired_at\" name=\"expired_at\" onChange={this.handleChangeExpired} class=\"form-control\"></input>\r\n\r\n                                <label for=\"inputState\">Brand</label>\r\n                                <select id=\"brand\" name=\"brand\" onChange={this.handleChange} class=\"form-control\">\r\n                                    <option brand>Choose...</option>\r\n                                    <option>visa</option>\r\n                                    <option>master_card</option>\r\n                                    <option>american_express</option>\r\n                                    <option>union_pay</option>\r\n                                    <option>jcb</option>\r\n                                </select>\r\n\r\n                                <MDBBtn type=\"submit\" >Send</MDBBtn>\r\n                                <MDBBtn onClick={this.handleBtnCancel}>Cancel</MDBBtn></div>\r\n\r\n                            </form>\r\n                        </div>\r\n                        :\r\n                        <div>\r\n                            {this.state.btnUpdate ?\r\n                                <div>\r\n                                   <form onSubmit={this.handleSubmitUpdate}><div class=\"form-group col-md-4\">\r\n                                   <label for=\"last_4\">Enter id of the card to update :</label>\r\n                                <input type=\"text\" id=\"id\" name=\"last_4\" onChange={this.handleChangeId} class=\"form-control\"></input>\r\n                                \r\n                                <label for=\"last_4\">last_4 :</label>\r\n                                <input type=\"text\" id=\"last_4\" name=\"last_4\" onChange={this.handleChangePwd} class=\"form-control\"></input>\r\n                                <label for=\"expired_at\">expired_at:</label>\r\n                                \r\n                                <input type=\"text\" id=\"expired_at\" name=\"expired_at\" onChange={this.handleChangeExpired} class=\"form-control\"></input>\r\n\r\n                                <label for=\"inputState\">Brand</label>\r\n                                <select id=\"brand\" name=\"brand\" onChange={this.handleChange} class=\"form-control\">\r\n                                    <option brand>Choose...</option>\r\n                                    <option>visa</option>\r\n                                    <option>master_card</option>\r\n                                    <option>american_express</option>\r\n                                    <option>union_pay</option>\r\n                                    <option>jcb</option>\r\n                                </select>\r\n\r\n                                <MDBBtn type=\"submit\" >Send</MDBBtn>\r\n                                <MDBBtn onClick={this.handleBtnCancel}>Cancel</MDBBtn></div>\r\n\r\n                            </form>\r\n                                    \r\n                                </div>\r\n                                :\r\n                                <div>\r\n                                    {this.state.btnDisplay ?\r\n                                        <div>\r\n                                            <form onSubmit={this.handleSubmit2}>\r\n                                                <MDBContainer>\r\n                                                    <MDBListGroup style={{ width: \"22rem\" }}>\r\n                                                        <label htmlFor=\"defaultFormContactNameEx\" className=\"grey-text\">Card id</label>\r\n                                                        <MDBListGroupItem >{this.state.id}</MDBListGroupItem>\r\n                                                        <label htmlFor=\"defaultFormContactNameEx\" className=\"grey-text\">last_4</label>\r\n                                                        <MDBListGroupItem >{this.state.last_4}</MDBListGroupItem>\r\n                                                        <label htmlFor=\"defaultFormContactNameEx\" className=\"grey-text\">brand</label>\r\n                                                        <MDBListGroupItem  >{this.state.brand}</MDBListGroupItem>\r\n                                                        <label htmlFor=\"defaultFormContactNameEx\" className=\"grey-text\">expired at</label>\r\n                                                        <MDBListGroupItem href=\"#\" >{this.state.expired_at}</MDBListGroupItem>\r\n                                                        <MDBBtn type=\"submit\" >Afficher une carte</MDBBtn>\r\n                                                        <MDBBtn onClick={this.handleBtnCancel}>Cancel</MDBBtn>\r\n                                                    </MDBListGroup>\r\n\r\n                                                </MDBContainer>\r\n\r\n                                            </form>\r\n\r\n                                        </div>\r\n\r\n                                        :\r\n                                        <div>\r\n                                            {this.state.btnDelete ?\r\n\r\n                                                <div>\r\n                                                    <form onSubmit={this.handleSubmitDelete}>\r\n                                                        <label for=\"id\">card-id to delete :</label>\r\n                                                        <input type=\"text\" id=\"id\" name=\"id\" onChange={this.handleChangeId}></input>\r\n                                                        <MDBBtn type=\"submit\">Delete</MDBBtn>\r\n                                                        <MDBBtn onClick={this.handleBtnCancel}>Cancel</MDBBtn>\r\n                                                    </form>\r\n                                                </div>\r\n                                                :\r\n                                                console.log(\"ok\")\r\n                                            }\r\n                                        </div>} </div>} </div>\r\n                    };\r\n                    {this.state.checkConnection ? <Redirect to='/nav_Bar' /> : console.log(\"fail\")}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\nexport default Cards;"]},"metadata":{},"sourceType":"module"}