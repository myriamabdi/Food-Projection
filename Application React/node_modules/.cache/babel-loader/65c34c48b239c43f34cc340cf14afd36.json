{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sah0365\\\\Documents\\\\\\xE9cole\\\\watermelon-front\\\\src\\\\cards.js\";\nimport React, { Component } from \"react\";\nimport { MDBBtn } from \"mdbreact\";\nimport { MDBListGroup, MDBListGroupItem, MDBContainer } from \"mdbreact\";\nimport { BrowserRouter, Route, Link, Redirect } from \"react-router-dom\";\nimport Nav_bar from \"./Nav_bar/nav_bar\";\n\nclass Cards extends Component {\n  constructor(props) {\n    console.log(localStorage.getItem(\"access_token\"));\n    super(props);\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      let result = fetch(\"http://localhost:8000/v1/cards\", {\n        method: \"POST\",\n        body: JSON.stringify({\n          last_4: this.state.last_4,\n          brand: this.state.brand,\n          expired_at: this.state.expired_at\n        }),\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"x-auth-token\": localStorage.getItem(\"access_token\")\n        }\n      }).then(response => {\n        response.json().then(value => {\n          if (response.status === 200) {\n            let access_token = response.access_token;\n            console.log(access_token);\n            this.setState({\n              checkConnection: true\n            });\n          }\n        });\n      });\n    };\n\n    this.handleSubmit2 = e => {\n      e.preventDefault();\n      console.log(\"okkkkkkkkkkkk\");\n      let result = fetch(\"http://localhost:8000/v1/cards\", {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"x-auth-token\": localStorage.getItem(\"access_token\")\n        }\n      }).then(response => {\n        response.json().then(value => {\n          if (response.status === 200) {\n            this.setState({\n              //   checkConnection: true,\n              id: value[0].id,\n              last_4: value[0].last_4,\n              brand: value[0].brand,\n              expired_at: value[0].expired_at\n            });\n          }\n        });\n      });\n    };\n\n    this.state = {\n      id: null,\n      GPA: null,\n      coffee: null,\n      weight: null,\n      btnCreate: false,\n      btnDisplay: false,\n      checkConnection: false,\n      listCards: [],\n      index: 2\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleChangePwd = this.handleChangePwd.bind(this);\n    this.handleChangeExpired = this.handleChangeExpired.bind(this);\n    this.handleChangeId = this.handleChangeId.bind(this);\n  }\n\n  handleChange(event) {\n    this.setState({\n      brand: event.target.value\n    });\n  }\n\n  handleChangePwd(event) {\n    this.setState({\n      last_4: event.target.value\n    });\n  }\n\n  handleChangeExpired(event) {\n    this.setState({\n      expired_at: event.target.value\n    });\n  }\n\n  handleChangeId(event) {\n    this.setState({\n      id: event.target.value\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(MDBBtn, {\n      onClick: this.handleBtnCreate,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, \"Create card\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"form-group col-md-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      for: \"last_4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, \"last_4 :\"), React.createElement(\"input\", {\n      type: \"text\",\n      id: \"last_4\",\n      name: \"last_4\",\n      onChange: this.handleChangePwd,\n      class: \"form-control\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      for: \"expired_at\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, \"expired_at:\"), React.createElement(\"input\", {\n      type: \"text\",\n      id: \"expired_at\",\n      name: \"expired_at\",\n      onChange: this.handleChangeExpired,\n      class: \"form-control\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      for: \"inputState\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, \"Brand\"), React.createElement(\"select\", {\n      id: \"brand\",\n      name: \"brand\",\n      onChange: this.handleChange,\n      class: \"form-control\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      brand: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, \"Choose...\"), React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, \"visa\"), React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, \"master_card\"), React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, \"american_express\"), React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, \"union_pay\"), React.createElement(\"option\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, \"jcb\")), React.createElement(MDBBtn, {\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, \"Send\")))), this.state.checkConnection ? React.createElement(Redirect, {\n      to: \"/nav_Bar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }) : console.log(\"fail\")));\n  }\n\n}\n\nexport default Cards;","map":{"version":3,"sources":["C:/Users/sah0365/Documents/Ã©cole/watermelon-front/src/cards.js"],"names":["React","Component","MDBBtn","MDBListGroup","MDBListGroupItem","MDBContainer","BrowserRouter","Route","Link","Redirect","Nav_bar","Cards","constructor","props","console","log","localStorage","getItem","handleSubmit","e","preventDefault","result","fetch","method","body","JSON","stringify","last_4","state","brand","expired_at","headers","then","response","json","value","status","access_token","setState","checkConnection","handleSubmit2","id","GPA","coffee","weight","btnCreate","btnDisplay","listCards","index","handleChange","bind","handleChangePwd","handleChangeExpired","handleChangeId","event","target","render","handleBtnCreate"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { MDBBtn } from \"mdbreact\";\r\nimport { MDBListGroup, MDBListGroupItem, MDBContainer } from \"mdbreact\";\r\nimport { BrowserRouter, Route, Link, Redirect } from \"react-router-dom\";\r\nimport Nav_bar from \"./Nav_bar/nav_bar\";\r\n\r\nclass Cards extends Component {\r\n  constructor(props) {\r\n    console.log(localStorage.getItem(\"access_token\"));\r\n    super(props);\r\n    this.state = {\r\n      id: null,\r\n      GPA: null,\r\n      coffee: null,\r\n      weight: null,\r\n      btnCreate: false,\r\n      btnDisplay: false,\r\n      checkConnection: false,\r\n      listCards: [],\r\n      index: 2,\r\n    };\r\n\r\n   \r\n\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleChangePwd = this.handleChangePwd.bind(this);\r\n    this.handleChangeExpired = this.handleChangeExpired.bind(this);\r\n    this.handleChangeId = this.handleChangeId.bind(this);\r\n  }\r\n\r\n  handleChange(event) {\r\n    this.setState({\r\n      brand: event.target.value,\r\n    });\r\n  }\r\n\r\n  handleChangePwd(event) {\r\n    this.setState({\r\n      last_4: event.target.value,\r\n    });\r\n  }\r\n\r\n  handleChangeExpired(event) {\r\n    this.setState({\r\n      expired_at: event.target.value,\r\n    });\r\n  }\r\n\r\n  handleChangeId(event) {\r\n    this.setState({\r\n      id: event.target.value,\r\n    });\r\n  }\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    let result = fetch(\"http://localhost:8000/v1/cards\", {\r\n      method: \"POST\",\r\n      body: JSON.stringify({\r\n        last_4: this.state.last_4,\r\n        brand: this.state.brand,\r\n        expired_at: this.state.expired_at,\r\n      }),\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        \"x-auth-token\": localStorage.getItem(\"access_token\"),\r\n      },\r\n    }).then((response) => {\r\n      response.json().then((value) => {\r\n        if (response.status === 200) {\r\n          let access_token = response.access_token;\r\n          console.log(access_token);\r\n          this.setState({\r\n            checkConnection: true,\r\n          });\r\n        }\r\n      });\r\n    });\r\n  };\r\n\r\n  handleSubmit2 = (e) => {\r\n    e.preventDefault();\r\n    console.log(\"okkkkkkkkkkkk\");\r\n    let result = fetch(\"http://localhost:8000/v1/cards\", {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        \"x-auth-token\": localStorage.getItem(\"access_token\"),\r\n      },\r\n    }).then((response) => {\r\n      response.json().then((value) => {\r\n        if (response.status === 200) {\r\n          this.setState({\r\n            //   checkConnection: true,\r\n            id: value[0].id,\r\n            last_4: value[0].last_4,\r\n            brand: value[0].brand,\r\n            expired_at: value[0].expired_at,\r\n          });\r\n        }\r\n      });\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div>\r\n          <MDBBtn onClick={this.handleBtnCreate}>Create card</MDBBtn>\r\n          <div>\r\n            <form onSubmit={this.handleSubmit}>\r\n              <div class=\"form-group col-md-4\">\r\n                <label for=\"last_4\">last_4 :</label>\r\n                <input\r\n                  type=\"text\"\r\n                  id=\"last_4\"\r\n                  name=\"last_4\"\r\n                  onChange={this.handleChangePwd}\r\n                  class=\"form-control\"\r\n                ></input>\r\n                <label for=\"expired_at\">expired_at:</label>\r\n\r\n                <input\r\n                  type=\"text\"\r\n                  id=\"expired_at\"\r\n                  name=\"expired_at\"\r\n                  onChange={this.handleChangeExpired}\r\n                  class=\"form-control\"\r\n                ></input>\r\n\r\n                <label for=\"inputState\">Brand</label>\r\n                <select\r\n                  id=\"brand\"\r\n                  name=\"brand\"\r\n                  onChange={this.handleChange}\r\n                  class=\"form-control\"\r\n                >\r\n                  <option brand>Choose...</option>\r\n                  <option>visa</option>\r\n                  <option>master_card</option>\r\n                  <option>american_express</option>\r\n                  <option>union_pay</option>\r\n                  <option>jcb</option>\r\n                </select>\r\n\r\n                <MDBBtn type=\"submit\">Send</MDBBtn>\r\n              </div>\r\n            </form>\r\n          </div>\r\n          {this.state.checkConnection ? (\r\n            <Redirect to=\"/nav_Bar\" />\r\n          ) : (\r\n            console.log(\"fail\")\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default Cards;\r\n"]},"metadata":{},"sourceType":"module"}